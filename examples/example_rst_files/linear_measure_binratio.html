

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Example: Linear Map Choose QoIs to minimize scale of inverses in measure &mdash; BET 2.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Example: Linear Map Choose QoIs (volume / bin_size / large)" href="linear_measure_binsize_large.html" />
    <link rel="prev" title="Example: Linear Map with Uniform Sampling" href="linearMapUniformSampling.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> BET
          

          
          </a>

          
            
            
              <div class="version">
                2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parallel.html">Parallel</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples_overview.html">Some References and Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../examples_overview.html#validation-example">Validation example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_overview.html#linear-map-example">Linear Map Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_overview.html#non-linear-map-example">Non-Linear Map Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_overview.html#fenics-example-serial-bet-and-serial-model">FEniCS Example (serial BET and serial model)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_overview.html#adcirc-on-an-idealized-inlet-examples-and-adaptive-sampling">ADCIRC on an Idealized Inlet Examples and Adaptive Sampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_overview.html#contaminant-transport-example">Contaminant Transport Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples_overview.html#choosing-optimal-qois-examples">Choosing Optimal QoIs Examples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../examples_overview.html#list-of-all-examples">List of all examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="FEniCS.html">Example: FEniCS</a></li>
<li class="toctree-l3"><a class="reference internal" href="FEniCSMultipleSerial.html">Example: Multiple Serial FEniCS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Q_1D.html">Example: Estimate the parameter space probabiliy density with  a 1D data space</a></li>
<li class="toctree-l3"><a class="reference internal" href="Q_2D.html">Example: Estimate the parameter space probabiliy density with  a 2D data space</a></li>
<li class="toctree-l3"><a class="reference internal" href="Q_3D.html">Example: Estimate the parameter space probabiliy density with  a 3D data space</a></li>
<li class="toctree-l3"><a class="reference internal" href="chooseOptQoIs_2d.html">Example: Optimizing space-time measurements of temperature on a thin plate</a></li>
<li class="toctree-l3"><a class="reference internal" href="contaminantTransport.html">Example: Concentration of Contaminant in Wells Based on Transport Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="domains2D.html">Example: Generalized Chains with a 2,2-dimensional data,parameter space</a></li>
<li class="toctree-l3"><a class="reference internal" href="domains3D.html">Example: Generalized Chains with a 3,3-dimensional data,parameter space</a></li>
<li class="toctree-l3"><a class="reference internal" href="fromfile2D.html">Example: Batch Adaptive Sampling (2-to-2 example)</a></li>
<li class="toctree-l3"><a class="reference internal" href="fromfile3D.html">Example: Batch Adaptive Sampling (3-to-3 example)</a></li>
<li class="toctree-l3"><a class="reference internal" href="linearMapUniformSampling.html">Example: Linear Map with Uniform Sampling</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Example: Linear Map Choose QoIs to minimize scale of inverses in measure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step-0-setting-up-the-environment">Step (0): Setting up the environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-1-define-the-space-of-possible-qoi-maps">Step (1): Define the space of possible QoI maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-create-the-discretization-object-from-the-input-and-output-samples">Step (2): Create the discretization object from the input and output samples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-3-compute-the-gradients-of-all-the-maps-in-mathcal-q">Step (3): Compute the gradients of all the maps in <span class="math notranslate nohighlight">\(\mathcal{Q}\)</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-4-compute-scaling-properties-of-the-maps-and-choose-the-best-qoi">Step (4): Compute scaling properties of the maps and choose the best QoI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-5-optional-seeing-the-effect-of-the-optimal-qoi-choice">Step (5)[Optional]: Seeing the effect of the optimal QoI choice</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="linear_measure_binsize_large.html">Example: Linear Map Choose QoIs (volume / bin_size / large)</a></li>
<li class="toctree-l3"><a class="reference internal" href="linear_volume_binratio.html">Example: Linear Map Choose QoIs (volume / bin_ratio)</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonlinearMapUniformSampling.html">Example: Nonlinear Map with Uniform Sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="validation.html">Example: Validation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">bet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../todo_list.html">Todo List</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BET</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../examples_overview.html">Some References and Examples</a> &raquo;</li>
        
      <li>Example: Linear Map Choose QoIs to minimize scale of inverses in measure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/examples/example_rst_files/linear_measure_binratio.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="example-linear-map-choose-qois-to-minimize-scale-of-inverses-in-measure">
<span id="linear-sensitivity"></span><h1>Example: Linear Map Choose QoIs to minimize scale of inverses in measure<a class="headerlink" href="#example-linear-map-choose-qois-to-minimize-scale-of-inverses-in-measure" title="Permalink to this headline">¶</a></h1>
<p>Here, we consider a simple example where a parameter space is given
by a 5-dimensional hypercube and the goal is to choose an optimal QoI
map from a space of possible QoI maps, denoted by <span class="math notranslate nohighlight">\(\mathcal{Q}\)</span>,
where each QoI map is linear.
We use this simple example to demonstrate the use of the code to
optimally choose which possible QoI map does the best job of “scaling”
inverse sets to smaller sets.
The idea is that if we generally consider a set of high probability
in a particular data space defined by the range of a QoI map, we would
prefer that the inverse of this set is as small as possible in order to
try and identify the parameter responsible for the data.
This only makes sense for stochastic inverse problems framed within the
context of parameter identification under uncertainty.
In other words, when the problem is that the data are uncertain due to
measurement uncertainty and there is a true/exact parameter responsible
for whichever uncertain data is observed, then this is the type of problem
for which this optimization criteria is most appropriate.</p>
<p>This example generates uniform random samples in the unit hypercube and
corresponding QoIs (data) generated by a linear map Q.
We then calculate the
gradients using an RBF scheme and use the gradient information to choose the
optimal set of 2 (3, 4, … input_dim) QoIs to use in the inverse problem.
This example also demonstrates how we can define <span class="math notranslate nohighlight">\(\mathcal{Q}\)</span> implicitly
by creating a <a href="#id1"><span class="problematic" id="id2">``</span></a>larger’’ vector-valued QoI map in the case where the
cardinality is finite and determined by selecting any arbitrary subset of
a defined collection of scalar QoI.</p>
<div class="section" id="step-0-setting-up-the-environment">
<h2>Step (0): Setting up the environment<a class="headerlink" href="#step-0-setting-up-the-environment" title="Permalink to this headline">¶</a></h2>
<p>Import the necessary modules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">bet.sensitivity.gradients</span> <span class="k">as</span> <span class="nn">grad</span>
<span class="kn">import</span> <span class="nn">bet.sensitivity.chooseQoIs</span> <span class="k">as</span> <span class="nn">cqoi</span>
<span class="kn">import</span> <span class="nn">bet.calculateP.simpleFunP</span> <span class="k">as</span> <span class="nn">simpleFunP</span>
<span class="kn">import</span> <span class="nn">bet.calculateP.calculateP</span> <span class="k">as</span> <span class="nn">calculateP</span>
<span class="kn">import</span> <span class="nn">bet.postProcess.postTools</span> <span class="k">as</span> <span class="nn">postTools</span>
<span class="kn">import</span> <span class="nn">bet.Comm</span> <span class="k">as</span> <span class="nn">comm</span>
<span class="kn">import</span> <span class="nn">bet.sample</span> <span class="k">as</span> <span class="nn">sample</span>
</pre></div>
</div>
</div>
<div class="section" id="step-1-define-the-space-of-possible-qoi-maps">
<h2>Step (1): Define the space of possible QoI maps<a class="headerlink" href="#step-1-define-the-space-of-possible-qoi-maps" title="Permalink to this headline">¶</a></h2>
<p>We have a 5 dimensional hypercube for the parameter space and we assume
that the space of possible QoI, <span class="math notranslate nohighlight">\(\mathcal{Q}\)</span>, is defined by some random linear maps.
Specifically, we randomly generate 10 individual scalar linear QoI maps and
then consider <span class="math notranslate nohighlight">\(\mathcal{Q}\)</span> to be defined by any 2, 3, …, <code class="docutils literal notranslate"><span class="pre">input_dim</span></code> dimensional
vectors from this set of 10:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setup the info for the spaces</span>
<span class="n">input_dim</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">QoI_scalar_map_num</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">num_samples</span> <span class="o">=</span> <span class="mf">1E5</span>
<span class="n">num_centers</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
<p>However, rather than define <span class="math notranslate nohighlight">\(\mathcal{Q}\)</span> explicitly, we consider
a larger vector-valued map defined by <code class="docutils literal notranslate"><span class="pre">Q</span></code> that contains all of the scalar
QoI maps. We later determine the optimal QoI maps in terms of the components
of this larger map <code class="docutils literal notranslate"><span class="pre">Q</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let the map Q be a random matrix of size (QoI_scalar_map_num, input_dim)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">([</span><span class="n">QoI_scalar_map_num</span><span class="p">,</span> <span class="n">input_dim</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="step-2-create-the-discretization-object-from-the-input-and-output-samples">
<h2>Step (2): Create the discretization object from the input and output samples<a class="headerlink" href="#step-2-create-the-discretization-object-from-the-input-and-output-samples" title="Permalink to this headline">¶</a></h2>
<p>We randomly sample the input space and generate the corresponding QoI values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize some sample objects we will need</span>
<span class="n">input_samples</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">sample_set</span><span class="p">(</span><span class="n">input_dim</span><span class="p">)</span>
<span class="n">output_samples</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">sample_set</span><span class="p">(</span><span class="n">QoI_scalar_map_num</span><span class="p">)</span>

<span class="c1"># Choose random samples in parameter space to solve the model</span>
<span class="n">input_samples</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">num_samples</span><span class="p">,</span> <span class="n">input_dim</span><span class="p">]))</span>

<span class="c1"># Compute the output values with the map Q</span>
<span class="n">output_samples</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">input_samples</span><span class="o">.</span><span class="n">get_values</span><span class="p">()</span><span class="o">.</span><span class="n">transpose</span><span class="p">())</span><span class="o">.</span>\
        <span class="n">transpose</span><span class="p">())</span>

<span class="n">cluster_discretization</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">discretization</span><span class="p">(</span><span class="n">input_samples</span><span class="p">,</span> <span class="n">output_samples</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-3-compute-the-gradients-of-all-the-maps-in-mathcal-q">
<h2>Step (3): Compute the gradients of all the maps in <span class="math notranslate nohighlight">\(\mathcal{Q}\)</span><a class="headerlink" href="#step-3-compute-the-gradients-of-all-the-maps-in-mathcal-q" title="Permalink to this headline">¶</a></h2>
<p>We calculate the gradients using an RBF-FD scheme.
We set <code class="docutils literal notranslate"><span class="pre">normalize=True</span></code> because we assume that the sizes of the inverse sets to
be inverted in the data space are scaled relative to the size of the circumsribing box
of the data space.
Thus, all uncertainties are in a sense relative to the sensitivity
of the overall QoI map:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">center_discretization</span> <span class="o">=</span> <span class="n">grad</span><span class="o">.</span><span class="n">calculate_gradients_rbf</span><span class="p">(</span><span class="n">cluster_discretization</span><span class="p">,</span>
        <span class="n">num_centers</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-4-compute-scaling-properties-of-the-maps-and-choose-the-best-qoi">
<h2>Step (4): Compute scaling properties of the maps and choose the best QoI<a class="headerlink" href="#step-4-compute-scaling-properties-of-the-maps-and-choose-the-best-qoi" title="Permalink to this headline">¶</a></h2>
<p>With these gradient vectors, we are now ready to choose an optimal set of
QoIs to use in the inverse problem, based on minimizing the measures of
inverse sets defined by the scaling effect of the map.
The most robust method for this is
:meth:~bet.sensitivity.chooseQoIs.chooseOptQoIs_large which returns the
best set of 2, 3, 4 … until input_dim.  This method returns a list of
matrices.  Each matrix has 10 rows, the first column representing the
expected scaling of the cross-sections of the contour event associated
with inverting a rectangular box, and the rest of the columns the corresponding
QoI indices.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">input_samples_center</span> <span class="o">=</span> <span class="n">center_discretization</span><span class="o">.</span><span class="n">get_input_sample_set</span><span class="p">()</span>
<span class="n">best_sets</span> <span class="o">=</span> <span class="n">cqoi</span><span class="o">.</span><span class="n">chooseOptQoIs_large</span><span class="p">(</span><span class="n">input_samples_center</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-5-optional-seeing-the-effect-of-the-optimal-qoi-choice">
<h2>Step (5)[Optional]: Seeing the effect of the optimal QoI choice<a class="headerlink" href="#step-5-optional-seeing-the-effect-of-the-optimal-qoi-choice" title="Permalink to this headline">¶</a></h2>
<p>At this point we have determined the optimal set of QoIs to use in the inverse
problem.
Now we compare the support of the inverse solution using
different sets of these QoIs.
The user can select which QoI_indices to choose from each time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QoI_indices</span> <span class="o">=</span> <span class="n">best_sets</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># Chooses the optimal set of 2 QoI</span>
<span class="c1"># QoI_indices = best_sets[0][1,1:].astype(int) # Chooses the second most optimal set of 2 QoI</span>
<span class="c1"># QoI_indices = best_sets[0][9,1:].astype(int) # Chooses the least optimal set of 2 QoI</span>
<span class="c1"># QoI_indices = best_sets[3][0,1:].astype(int) # Chooses the optimal set of 5 QoI</span>
<span class="c1"># QoI_indices = best_sets[3][1,1:].astype(int) # Chooses the second most optimal set of 5 QoI</span>
</pre></div>
</div>
<p>Setup the associated set of output samples from the choice of QoI defined by the
QoI_indices:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_samples</span><span class="o">.</span><span class="n">_dim</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">QoI_indices</span><span class="p">)</span>
<span class="n">output_samples</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="n">output_samples</span><span class="o">.</span><span class="n">get_values</span><span class="p">()[:,</span> <span class="n">QoI_indices</span><span class="p">])</span>
</pre></div>
</div>
<p>Define the reference datum in the output space to correspond to the center of
the input space.
Q_ref = Q[QoI_indices, :].dot(0.5 * np.ones(input_dim))</p>
<p><code class="docutils literal notranslate"><span class="pre">rect_scale</span></code> defines the amount of uncertainty in the measured datum relative
to the scale of a circumscribing box of the data space:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rect_scale</span> <span class="o">=</span> <span class="mf">0.25</span>
</pre></div>
</div>
<p>Make the MC assumption and compute the volumes of each Voronoi cell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">input_samples</span><span class="o">.</span><span class="n">estimate_volume_mc</span><span class="p">()</span>
</pre></div>
</div>
<p>Create the discretization object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_discretization</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">discretization</span><span class="p">(</span><span class="n">input_sample_set</span><span class="o">=</span><span class="n">input_samples</span><span class="p">,</span>
                                    <span class="n">output_sample_set</span><span class="o">=</span><span class="n">output_samples</span><span class="p">)</span>
</pre></div>
</div>
<p>Compute the simple function approximation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">simpleFunP</span><span class="o">.</span><span class="n">regular_partition_uniform_distribution_rectangle_scaled</span><span class="p">(</span>
    <span class="n">data_set</span><span class="o">=</span><span class="n">my_discretization</span><span class="p">,</span> <span class="n">Q_ref</span><span class="o">=</span><span class="n">Q_ref</span><span class="p">,</span> <span class="n">rect_scale</span><span class="o">=</span><span class="n">rect_scale</span><span class="p">,</span>
    <span class="n">cells_per_dimension</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Compute the solution to the stochastic inverse problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">calculateP</span><span class="o">.</span><span class="n">prob</span><span class="p">(</span><span class="n">my_discretization</span><span class="p">)</span>
</pre></div>
</div>
<p>Determine which samples have non-zero probability, which, due to the MC assumption
on the volumes, can be used to approximate the ratio of the measure of the parameter
space defined by the support of the probability density function solving the inverse
problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">indices_in_inverse</span><span class="p">)</span> <span class="o">=</span>\
    <span class="n">postTools</span><span class="o">.</span><span class="n">sample_highest_prob</span><span class="p">(</span><span class="n">top_percentile</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="n">sample_set</span><span class="o">=</span><span class="n">input_samples</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print the approximate percentage of the measure of the parameter space defined</span>
<span class="c1"># by the support of the inverse density</span>
<span class="k">if</span> <span class="n">comm</span><span class="o">.</span><span class="n">rank</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s1">&#39;The approximate percentage of the measure of the parameter space defined&#39;</span>
    <span class="nb">print</span> <span class="s1">&#39;by the support of the inverse density associated with the choice of QoI map is&#39;</span>
    <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">input_samples</span><span class="o">.</span><span class="n">get_volumes</span><span class="p">()[</span><span class="n">indices_in_inverse</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="linear_measure_binsize_large.html" class="btn btn-neutral float-right" title="Example: Linear Map Choose QoIs (volume / bin_size / large)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="linearMapUniformSampling.html" class="btn btn-neutral float-left" title="Example: Linear Map with Uniform Sampling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, The BET Development Team (Lindley Graham, Steven Mattis, Troy Butler, Scott Walsh, Michael Pilosov)
      <span class="lastupdated">
        Last updated on Jul 30, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>