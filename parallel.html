

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Parallel &mdash; BET 3.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples_overview.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BET
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parallel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-in-parallel">Running in parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parallel-enabled-modules">Parallel Enabled Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#util">util</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample">sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calculatep">calculateP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sampling">sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postprocess">postProcess</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sensitivity">sensitivity</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples_overview.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo_list.html">Todo List</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BET</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Parallel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/parallel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="parallel">
<span id="id1"></span><h1>Parallel<a class="headerlink" href="#parallel" title="Permalink to this headline">¶</a></h1>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Running this code in parallel requires the installation of <a class="reference external" href="http://mpi4py.scipy.org/">MPI for Python</a> which requires that your system has mpi
installed.</p>
</section>
<section id="running-in-parallel">
<h2>Running in parallel<a class="headerlink" href="#running-in-parallel" title="Permalink to this headline">¶</a></h2>
<p>Depending on what modules, methods, and/or functions from BET your script uses
small or no changes will need to be made to run your script in parallel. To run
your script in parallel you will have to use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mpirun -np NUM_PROCS python YOUR_SCRIPT.py
</pre></div>
</div>
<p>instead of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python YOUR_SCRIPT.py
</pre></div>
</div>
<p>Example scripts are availiable in <code class="docutils literal notranslate"><span class="pre">examples/parallel_and_serial_sampling</span></code>
which demonstrate different modes of parallel and serial sampling. Also the
<a class="reference internal" href="examples/example_rst_files/FEniCSMultipleSerial.html#fenicsmultipleserialexample"><span class="std std-ref">Example: Multiple Serial FEniCS</span></a> is an example that can be run with serial
BET and uses <a class="reference external" href="https://github.com/TACC/launcher">Launcher</a> to launch multiple
serial runs of the model in parallel.</p>
</section>
<section id="parallel-enabled-modules">
<h2>Parallel Enabled Modules<a class="headerlink" href="#parallel-enabled-modules" title="Permalink to this headline">¶</a></h2>
<p>The modules that have parallel capabilities are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bet</span><span class="o">/</span>
  <span class="n">util</span>
  <span class="n">sample</span>
  <span class="n">Comm</span>
  <span class="n">surrogates</span>
  <span class="n">calculateP</span><span class="o">/</span>
    <span class="n">calculateP</span>
    <span class="n">simpleFunP</span>
    <span class="n">calculateError</span>
  <span class="n">sampling</span><span class="o">/</span>
    <span class="n">basicSampling</span>
  <span class="n">postProcess</span><span class="o">/</span>
    <span class="n">plotP</span>
    <span class="n">postTools</span>
  <span class="n">sensitivity</span><span class="o">/</span>
    <span class="n">chooseQoIs</span>
</pre></div>
</div>
<section id="util">
<h3>util<a class="headerlink" href="#util" title="Permalink to this headline">¶</a></h3>
<p>The module <a class="reference internal" href="overview.html#module-bet.util" title="bet.util"><code class="xref py py-mod docutils literal notranslate"><span class="pre">util</span></code></a> provides the method
<a class="reference internal" href="bet.html#bet.util.get_global_values" title="bet.util.get_global_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_global_values()</span></code></a> to globalize local arrays into an array of
global values on all processors.</p>
</section>
<section id="sample">
<h3>sample<a class="headerlink" href="#sample" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="bet.html#bet.sample.sample_set_base" title="bet.sample.sample_set_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">sample_set_base</span></code></a> has methods which benifit from
parallel execution and has methods for localizing
(<code class="xref py py-meth docutils literal notranslate"><span class="pre">local_to_local()</span></code>) and localizing
(<a class="reference internal" href="bet.html#bet.sample.sample_set_base.local_to_global" title="bet.sample.sample_set_base.local_to_global"><code class="xref py py-meth docutils literal notranslate"><span class="pre">local_to_global()</span></code></a>) member attributes.
Localized attributes are denoted as <code class="docutils literal notranslate"><span class="pre">*_local</span></code>. The
<a class="reference internal" href="bet.html#bet.sample.discretization" title="bet.sample.discretization"><code class="xref py py-class docutils literal notranslate"><span class="pre">discretization</span></code></a> aslo has methods which enable and benifit
from parallel execution.</p>
</section>
<section id="calculatep">
<h3>calculateP<a class="headerlink" href="#calculatep" title="Permalink to this headline">¶</a></h3>
<p>All methods in the module <a class="reference internal" href="bet.calculateP.html#module-bet.calculateP.calculateP" title="bet.calculateP.calculateP"><code class="xref py py-mod docutils literal notranslate"><span class="pre">calculateP</span></code></a> benefit from
parallel execution.</p>
<p>In the module <a class="reference internal" href="bet.calculateP.html#module-bet.calculateP.simpleFunP" title="bet.calculateP.simpleFunP"><code class="xref py py-mod docutils literal notranslate"><span class="pre">simpleFunP</span></code></a> any method with a
<code class="docutils literal notranslate"><span class="pre">num_d_emulate</span></code> option benefits greatly from parallel execution.</p>
</section>
<section id="sampling">
<h3>sampling<a class="headerlink" href="#sampling" title="Permalink to this headline">¶</a></h3>
<p>If you are using a model with parallel capabilities we recommend that you write
your own python interface to handle running multiple parallel copies of your
model simultaneously. If your model is serial then you might benefit from
parallel execution of scripts that use
<a class="reference internal" href="bet.sampling.html#bet.sampling.basicSampling.sampler" title="bet.sampling.basicSampling.sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">bet.sampling.basicSampling.sampler</span></code></a>.  The method
<a class="reference internal" href="bet.sampling.html#bet.sampling.basicSampling.sampler.compute_qoi_and_create_discretization" title="bet.sampling.basicSampling.sampler.compute_qoi_and_create_discretization"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_qoi_and_create_discretization()</span></code></a>
and <a class="reference internal" href="bet.sampling.html#bet.sampling.basicSampling.sampler.create_random_discretization" title="bet.sampling.basicSampling.sampler.create_random_discretization"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_random_discretization()</span></code></a>
both  will partition the samples over several processors and have a globalize
option to return a globalized set of results.</p>
</section>
<section id="postprocess">
<h3>postProcess<a class="headerlink" href="#postprocess" title="Permalink to this headline">¶</a></h3>
<p>In <a class="reference internal" href="bet.postProcess.html#module-bet.postProcess.plotP" title="bet.postProcess.plotP"><code class="xref py py-mod docutils literal notranslate"><span class="pre">plotP</span></code></a> the methods
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.plotP.calculate_1D_marginal_probs" title="bet.postProcess.plotP.calculate_1D_marginal_probs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">calculate_1D_marginal_probs()</span></code></a> and
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.plotP.calculate_2D_marginal_probs" title="bet.postProcess.plotP.calculate_2D_marginal_probs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">calculate_2D_marginal_probs()</span></code></a> benefit from
parallel execution. The methods <a class="reference internal" href="bet.postProcess.html#bet.postProcess.plotP.plot_1D_marginal_probs" title="bet.postProcess.plotP.plot_1D_marginal_probs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_1D_marginal_probs()</span></code></a> and
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.plotP.plot_2D_marginal_probs" title="bet.postProcess.plotP.plot_2D_marginal_probs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_2D_marginal_probs()</span></code></a> will only execute on the
rank 0 processor.</p>
<p>In <a class="reference internal" href="bet.postProcess.html#module-bet.postProcess.postTools" title="bet.postProcess.postTools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">postTools</span></code></a> the methods
<code class="xref py py-meth docutils literal notranslate"><span class="pre">save_parallel_probs_csv()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">collect_parallel_probs_csv()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">save_parallel_probs_mat()</span></code>, and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">collect_parallel_probs_mat()</span></code> provide tools to
save and collect probabilities on separate processors as appropriately named files.</p>
</section>
<section id="sensitivity">
<h3>sensitivity<a class="headerlink" href="#sensitivity" title="Permalink to this headline">¶</a></h3>
<p>All methods in the module <a class="reference internal" href="bet.sensitivity.html#module-bet.sensitivity.chooseQoIs" title="bet.sensitivity.chooseQoIs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">chooseQoIs</span></code></a> benefit from parallel execution.</p>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="examples_overview.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, The BET Development Team (Lindley Graham, Steven Mattis, Troy Butler, Scott Walsh, Michael Pilosov)..
      <span class="lastupdated">
        Last updated on Jun 11, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>