

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parallel &mdash; BET 2.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Some References and Examples" href="examples/examples_overview.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BET
          

          
          </a>

          
            
            
              <div class="version">
                2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parallel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-in-parallel">Running in parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parallel-enabled-modules">Parallel Enabled Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#util">util</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample">sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calculatep">calculateP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sampling">sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postprocess">postProcess</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sensitivity">sensitivity</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples/examples_overview.html">Some References and Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">bet</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo_list.html">Todo List</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BET</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Parallel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/parallel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parallel">
<span id="id1"></span><h1>Parallel<a class="headerlink" href="#parallel" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Running this code in parallel requires the installation of <a class="reference external" href="http://mpi4py.scipy.org/">MPI for Python</a> which requires that your system has mpi
installed.</p>
</div>
<div class="section" id="running-in-parallel">
<h2>Running in parallel<a class="headerlink" href="#running-in-parallel" title="Permalink to this headline">¶</a></h2>
<p>Depending on what modules, methods, and/or functions from BET your script uses
small or no changes will need to be made to run your script in parallel. To run
your script in parallel you will have to use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mpirun -np NUM_PROCS python YOUR_SCRIPT.py
</pre></div>
</div>
<p>instead of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python YOUR_SCRIPT.py
</pre></div>
</div>
<p>Example scripts are availiable in <code class="docutils literal notranslate"><span class="pre">examples/parallel_and_serial_sampling</span></code>
which demonstrate different modes of parallel and serial sampling. Also the
<a class="reference internal" href="examples/example_rst_files/FEniCSMultipleSerial.html#fenicsmultipleserialexample"><span class="std std-ref">Example: Multiple Serial FEniCS</span></a> is an example that can be run with serial
BET and uses <a class="reference external" href="https://github.com/TACC/launcher">Launcher</a> to launch multiple
serial runs of the model in parallel.</p>
</div>
<div class="section" id="parallel-enabled-modules">
<h2>Parallel Enabled Modules<a class="headerlink" href="#parallel-enabled-modules" title="Permalink to this headline">¶</a></h2>
<p>The modules that have parallel capabilities are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bet</span><span class="o">/</span>
  <span class="n">util</span>
  <span class="n">sample</span>
  <span class="n">Comm</span>
  <span class="n">surrogates</span>
  <span class="n">calculateP</span><span class="o">/</span>
    <span class="n">calculateP</span>
    <span class="n">simpleFunP</span>
    <span class="n">calculateError</span>
  <span class="n">sampling</span><span class="o">/</span>
    <span class="n">basicSampling</span>
    <span class="n">adaptiveSampling</span>
  <span class="n">postProcess</span><span class="o">/</span>
    <span class="n">plotP</span>
    <span class="n">postTools</span>
  <span class="n">sensitivity</span><span class="o">/</span>
    <span class="n">chooseQoIs</span>
</pre></div>
</div>
<div class="section" id="util">
<h3>util<a class="headerlink" href="#util" title="Permalink to this headline">¶</a></h3>
<p>The module <code class="xref py py-mod docutils literal notranslate"><span class="pre">util</span></code> provides the method
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_global_values()</span></code> to globalize local arrays into an array of
global values on all processors.</p>
</div>
<div class="section" id="sample">
<h3>sample<a class="headerlink" href="#sample" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">sample_set_base</span></code> has methods which benifit from
parallel execution and has methods for localizing
(<code class="xref py py-meth docutils literal notranslate"><span class="pre">local_to_local()</span></code>) and localizing
(<code class="xref py py-meth docutils literal notranslate"><span class="pre">local_to_global()</span></code>) member attributes.
Localized attributes are denoted as <code class="docutils literal notranslate"><span class="pre">*_local</span></code>. The
<code class="xref py py-class docutils literal notranslate"><span class="pre">discretization</span></code> aslo has methods which enable and benifit
from parallel execution.</p>
</div>
<div class="section" id="calculatep">
<h3>calculateP<a class="headerlink" href="#calculatep" title="Permalink to this headline">¶</a></h3>
<p>All methods in the module <code class="xref py py-mod docutils literal notranslate"><span class="pre">calculateP</span></code> benefit from
parallel execution.</p>
<p>In the module <code class="xref py py-mod docutils literal notranslate"><span class="pre">simpleFunP</span></code> any method with a
<code class="docutils literal notranslate"><span class="pre">num_d_emulate</span></code> option benefits greatly from parallel execution.</p>
</div>
<div class="section" id="sampling">
<h3>sampling<a class="headerlink" href="#sampling" title="Permalink to this headline">¶</a></h3>
<p>If you are using a model with parallel capabilities we recommend that you write
your own python interface to handle running multiple parallel copies of your
model simulatenously. If your model is serial then you might benefit from
parallel execution of scripts that use
<code class="xref py py-class docutils literal notranslate"><span class="pre">bet.sampling.basicSampling.sampler</span></code> or
<code class="xref py py-class docutils literal notranslate"><span class="pre">bet.sampling.adaptiveSampling.sampler</span></code>.  The method
<code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_QoI_and_create_discretization()</span></code>
and <code class="xref py py-meth docutils literal notranslate"><span class="pre">create_random_discretization()</span></code>
both  will partition the samples over several processors and have a globalize
option to return a globalized set of results. The method
<code class="xref py py-meth docutils literal notranslate"><span class="pre">generalized_chains()</span></code> divides up
the chains among the availiable processors and returns a globalized result.
This method also has serial and parallel hotstart capabilties.</p>
</div>
<div class="section" id="postprocess">
<h3>postProcess<a class="headerlink" href="#postprocess" title="Permalink to this headline">¶</a></h3>
<p>In <code class="xref py py-mod docutils literal notranslate"><span class="pre">plotP</span></code> the methods
<code class="xref py py-meth docutils literal notranslate"><span class="pre">calculate_1D_marginal_probs()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">calculate_2D_marginal_probs()</span></code> benefit from
parallel execution. The methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_1D_marginal_probs()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_2D_marginal_probs()</span></code> will only execute on the
rank 0 processor.</p>
<p>In <code class="xref py py-mod docutils literal notranslate"><span class="pre">postTools</span></code> the methods
<code class="xref py py-meth docutils literal notranslate"><span class="pre">save_parallel_probs_csv()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">collect_parallel_probs_csv()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">save_parallel_probs_mat()</span></code>, and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">collect_parallel_probs_mat()</span></code> provide tools to
save and collect probabitlies on separate processors as appropriately named files.</p>
</div>
<div class="section" id="sensitivity">
<h3>sensitivity<a class="headerlink" href="#sensitivity" title="Permalink to this headline">¶</a></h3>
<p>All methods in the module <code class="xref py py-mod docutils literal notranslate"><span class="pre">chooseQoIs</span></code> benefit from parallel execution.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples/examples_overview.html" class="btn btn-neutral float-right" title="Some References and Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, The BET Development Team (Lindley Graham, Steven Mattis, Troy Butler, Scott Walsh, Michael Pilosov)
      <span class="lastupdated">
        Last updated on Jul 30, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>